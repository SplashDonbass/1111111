import{u as m,a as _,o as k,c as n,b as a,d as l,e as f,F as g,r as h,f as o,g as T,t as d,w as x,n as C}from"./index-DgPC-CtM.js";import"https://esm.sh/@supabase/supabase-js";const L={class:"text-content"},V={key:0},b={class:"list"},v=["onClick"],F={__name:"TasksView",setup(w){const{tg:r}=m(),e=_();k(()=>{e.fetchTasks()});function p(s){e.completeTask(s),s.url.includes("t.me")?r.openTelegramLink(s.url):r.openLink(s.url)}return(s,i)=>(o(),n("div",L,[i[0]||(i[0]=a("h1",null,"Your tasks",-1)),l(e).tasks.length==0?(o(),n("h3",V,"Loading tasks...")):f("",!0),a("ul",b,[(o(!0),n(g,null,h(l(e).tasks,t=>{var c,u;return o(),n("li",{class:"list-item",key:t.id},[T(d(t.title)+" ",1),a("span",null,[a("a",{onClick:x(y=>p(t),["prevent"]),target:"_blank",class:C(["list-btn",{done:(u=(c=l(e).user)==null?void 0:c.tasks)==null?void 0:u[t.id]}])},d(t.amount),11,v)])])}),128))])]))}};export{F as default};
